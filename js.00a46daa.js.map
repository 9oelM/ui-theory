{"version":3,"sources":["js/ui/renderDOM.js","js/global-state/actionTypes.js","js/global-state/reducer.js","js/global-state/store.js","js/ui/styled.js","js/api/tryCatchWrapper.js","js/api/api.js","js/hooks/useEffect.js","js/hooks/useState.js","js/hooks/index.js","js/global-state/actions.js","js/components/RequestRandomPhotoButton.js","js/components/Layout.js","js/components/PhotoViewer.js","js/index.js"],"names":["renderDOM","arrayOfHTMLElements","parent","Array","isArray","Error","forEach","element","currentIndex","cannotUsePrevElementAsParent","appendChild","actionTypes","Object","freeze","UPDATE_RANDOM_PHOTO_URL","reducer","prevState","randomPhotoUrl","undefined","action","type","createStore","rootState","listenersOnDispatch","getState","subscribe","listener","push","lengthOfListeners","length","indexToDelete","indexOf","index","splice","dispatch","store","receiveCorrectStringInput","mightBeString","generateRandomString","text","possible","i","charAt","Math","floor","random","initializeStyled","head","document","getElementsByTagName","classCache","tagName","correctTagName","createElement","styles","correctStyles","classNameInCache","className","style","textContent","replace","styled","tryCatchWrapper","promise","response","data","error","RANDOM_PHOTO_URL","fetchSingleRandomPhoto","fetch","__useEffect","renderCount","setRenderCount","depsInClosure","deps","updateDepsInClosure","dep","callback","isFirstRender","value","areDepsChanged","some","idx","__useState","valueInClosure","renderInClosure","render","setter","newValue","initialValue","__useStateInteral","initializeHooks","useStateInternal","useEffect","useState","updateRandomPhoto","Button","RequestRandomPhotoButton","isLoading","setIsLoading","getRandomPhoto","console","url","onclick","Layout","PhotoContainer","Photo","log","setAttribute","src","main","root","getElementById","__store","window","onload"],"mappings":";;AcAA;;AACA;;AbDO,AaGP,MbHaW,WAAW,GAAGC,MAAM,CAACC,MAAP,CAAc;AKAzC,AMAA,ACAA,AFAA,AVCEC,ASDF,ARAA,ACAA,AMAA,AFAO,ACAA,ARAA,AIAP,EHCEA,IMDWwD,ACAAa,ARAAnF,SAAS,CQAC,CDAC,CPAC,CQAC,ARAAC,COAC,ACAA,CDAC,INCH,EAAE,WDDF,EAAsBC,MAAtB,KAAiC;ACAjB,AMAXqE,ACADA,AMI7B,AdHI,CCDuB,CAApB,AMAuBA,ACADA,IRCrB,CAACpE,KAAK,CODc,ACAD,ARCZC,OAAN,CAAcH,mBAAd,CAAL,EAAyC;AMCtC,AMAP,ACDA,AFAA,ADCO,APAP,AMDA,AFD2CuE,ACADA,AREpC,EOFqCA,ACADA,IFE7BL,AMAPqC,AFAOT,APAP1E,IHAM,EYAA,EZAIhB,CYAD,ETAE,EHAL,CGASU,AHAC,EMAO,CIAC,EJAE,CIAEE,CPAd,IAAa,GSAX,MFAW,GEAF,EFAuB,EVA1C,CAAN,aMAC;AICLG,APAA,AIH0B,ACAD,AMK3B,AdFK,COHsB,ACAD,CEGxBA,CVFE,GUEE,APAAE,AIH0D,ACAD,EEGvDX,CVAG,MGAI,GAAG,EAAhB,aOAkBG,uBADkC;ALF/C,AQEP,AFAA,ADEEG,APCA,AMFK,AFFL,ACAA,ARGIhB,AIAN,EMAEgB,EVAIhB,EKJO6D,AIGA6B,ALCPvD,EDCEb,AIJAkD,ACAAW,aHDoB,AIGA,AFFP,CCAC,CRGG,CSDM,AFFP,APGE9E,CQHD,ELIE,GAAG,AMFO,CTC/B,AIAyB,CDC7B,AHDgC,CAACC,CIAA8B,MJAD,EAAU7B,KIAV,IAAmB,GJAnB,KAA2B;AMAtD,ADJqB,AKE0B,ADEpD,AFFEkE,ACAAK,ARGM,AIAR,CMH+B,CAA1B,EHAHL,ACAAK,EFESX,AFCPjE,EGHE,CCAC,CDAC,APGIA,CQHHe,AJGA,CAACd,GJAO,CAACA,GIAd,CAAciC,GJAN,CAAc9B,IMDO,GAAG,ADJP,ALKjB,CAAJ,CIAJ,CJAgC,AIApC,EAAkC,CEDQ,KDJNwD,CDKK1B,MCLZ,EAAmB,KDKM,CAAC,CAAD,CAApB,CAAlC,KACK,OAAOA,GEF8CgC,KAAK,CAACF,IFE3D,YEF0D,CAArB,CAArC;ADHL,AQEF,AFAA,ARIE,AMFA,AFJsB,ACAC,ARKb,AICX,CAHD,EGHE,ACAA,GKEI,ERFA,AFME3C,AMFAoE,MTCUnF,EGCF,GAAG,KMFK,CNECa,EMFE,ONEzB,QHD4C,GAAGnB,KAAK,CAACC,OAAN,CAAcH,ESD7D,iBTCgF,CAACO,YAAY,GAAG,CAAhB,CAAjC,CAArC;AKJR,AQCIqF,AJGN,ADFA,AMGF,AdAY7F,EaJJ6F,ICIFiB,ELDE,ADFAzB,ARGIrF,CSDHuE,CKCC,ETLAP,CSKG,IdAQ,CAACzD,CcAH,CTLD,AIIV,EAAciE,CDFC,ERGF,CQHK,CRGKhE,EKLJuD,OAAvB,AIII,GTCmC,CSDH6B,ITCQ,CAAjB,IAAsBnF,OSDG,CAAC,CAAD,CAAtD,CAHmC,CAInC,gBTA6B,GAAqDP,MAArD,GAA8DD,mBAAmB,CAACO,YAAY,GAAG,CAAhB,CAA3F,CAAT;AKHR,AQDE,AXDC,ACOL,AILA,ACCE8E,AMGF,AdAS,AICX,ISNsB,ALElBA,ENHSvE,AEOPuB,CJJI,CGIFb,AILAkD,AOIAoC,ENHE,EAAE7F,AMGA,CTJD,AHFS,AFMH,EcAF8B,CZNQ,CAAChC,ACOP,GAAIU,GWDE,CAACsF,EZNS,AEOP,CGLC,CJKP,CDPgB,AEONnF,CGLC6C,EJKG,CUNlC,CNC8B,CHKD,GGLW,AOIzB,CAAwB,AVCE,MUD1B,CAAb;ATJWT,AQCb,AXFEhD,ACOEM,AMFF,AFHEkD,ACDsB,ARKdvE,AICV,CQRF,CVCEe,CMCA,CLMEM,AILAkD,EMAEgC,ATKAlE,ECNO0B,AIIL4B,ATCI3F,EICF,ECNO,CDMJ,CCNM8D,ALKD,CAACtD,AICjB,CFPc,COKC,AFHA,CLFCQ,AKEAwD,EMAE,AJGA,EJJT,AECP,CMAmB,AVKA,CAAC/C,CILC,CPIb,COJR,API2BpB,CGC3B,CAAyBmB,KHDjB,GGCR,KUL0B,MJGE,EIHM;ARDTwC,AHFO,ACUhC,AMJ8BK,AFF9BG,AOIF,AdAS,AICT,CFTqB,EAEpBvD,COI+BoD,AFF9BG,IFFyBR,AEErB,AOIAoB,AVCA9C,CFTe,AKIdlC,CJMCsB,GERwB,CHApB,AYMA,CTNsB,AIIJ,CFF5B,AHKY,CGLEgD,AOIAqC,EVCC,CGLF,IAASxC,AOIT,GXEU,CWFG,EXEAlD,OINS,CAACmD,IAAd,CAAmB/C,IAAnB,CAAwBiD,CJMD,CAAC/C,CINxB,CAAtB,IJMA,iBCDF;ACPS,AHCT,ACSE,AMN2C2C,AFD5C,ACCD,AMGE,AdAG,GOPL,CEI6CA,CTJzC,EKAF,CGIIe,ENHCpE,CCSE,GKNG,CIGC,CVNA,CAACC,ACSC,AKNCoE,IIGG,AVNnB,IMGe,EIGUgB,EJHI,CMIzB,CACE,wBADF,EAEE,CACE,0BAAYS,OAAZ,GADF,EAEE,uCAAyBA,OAAzB,GAFF,CAFF,CADF,EAQEF,IARF;ATND,AMAH,ATCI,ACSE,AMP0B,ADC5B3B,AMYD,AdTE,AICH,GKLkB,AKElB,CLFA,ADCEA,CHRF,CAIE,AMAE,CPQC,EFPEzE,EEOE8B,CDECX,ACFA,CCRDoC,EDQI,CAAb,ECRE,AGIc,AJIAzB,CIJCsC,AJIA,CCRD,EDQIlD,EIJlB,CLMqB,EKNE2D,CLMCjE,ACF1B,EAA4BkB,CAAC,EAA7B,CFPmB3B,CMGjB,AJKAyB,IAAI,IAAIC,IDCmC,CAACT,GCD5B,CAACW,GDCO,CAA4BhB,CDTpD,CEQQ,CAAgBiB,IAAI,CDCJ,ACDKC,CDC3B,ICDsB,CAAWD,IAAI,CAACE,MAAL,KAAgBL,QAAQ,CAACX,MAApC,CAAhB,CAAR;ACRA,AMDIgE,ATEF,ACSA,AMPJ,AFAA,EIJMA,MFIAC,CFAC,CJOC9D,AIPA6C,CIJJ,ENCK,EFUI,CMPC,ENOE,AIPT,CJOU,AMPA,CNOb,AIPcH,EJOEnD,EIPb,KAAoB,ELDlBP,SADL,CCSmC,CAACiB,GMPZ,GNOR,CAA2BH,aAA3B,EAA0C,CAA1C;AEVTmC,AMDM6B,ATIX7E,ACQH,AMR2BsD,AFC5B,ACAA,AMaFpC,AdXG,AIIH,CSXF,CFAmB2D,EFIavB,CNK5B,GERSN,AHGLhD,AMCAsD,CJMChC,CGNCuC,EFJO,CDUf,CCViB,CIGW,AKctBrD,GTjBG,CGIQ,CAACsD,ENDE,CKCC,CLDC5D,AYctB,CNbM,AMaU,CPbQoD,ECAE,CAAxB,CND0B,CAACtD,AMCA,AMaP,MPba,CAAC8D,KAAZ,KAAsB,CAA5C;AFJqBb,AQMzB,AFPM,ATEA,ACWH,AMT0CM,AFEzC,ACAEa,AMaFC,AdVA,AIGH,CARD,EDAE,CQJ8B,AFIad,AKezCc,EDZEoB,ALDArB,EHLmBnB,CLQdhE,COHD8E,AOaA,CDZC,ACYA7C,GDZG,CbEV,MQHiB,CAACmD,CMaZ,CPbc,AOapB,GPbuBb,CCArB,KKCe,AFPrB,KEO0B,ENDc,CAACC,IAAd,CAAmBO,IAAnB,CAAwB,CAACL,GAAD,EAAMM,GAAN,KAAcN,GAAG,KAAKF,IAAI,CAACQ,GAAD,CAAlD,CAAvB;AFLO,AMCX,ATFE,AOI4B,ADGxBV,AMaH,AdVA,CAfI,ESSY,AKcjB,CLdA,EEFIwB,AHKAxB,CHNF,KMCQ,GAAG,KHKK,CAACD,WAAW,CAACQ,CGLX,IHKD,GAAoB,CGLX,AHKV,CAAd;AHLH,AHKF,ACQC,AMTA,AFCE,ACCC,AJML,CFjBO,KEiBDjC,EDCEZ,AIRA4C,CEDC,ONSO,GAAI3D,EIRC,CHOC,GDCH,AIRM6D,AHOA,IDCM,ECDA,QGP3B,EAAqC;AFJxC,AFaG1D,AMVOuE,AFELhB,ACCH,AMaDS,AVPA,EUOAA,CT3B0B,AGQ1B,CLaEhE,AMVOuE,EFELhB,EOcE,AVPA9B,CUOCZ,GVPG,CDCC,AMVJ,CFEK,CHOCa,CDCCjC,KWMR,CAAN,CXNqB,ACDA,CDCCO,ACDA2B,SDCD,EAAY9B,MAAZ,CAAnB,ECDW,CAA8B,MAA9B,EAAsC,CAAtC,CAAb;ADEEI,AMXkBuE,AFGhBnB,AOcL,AVNC,CSVF,ACLA,GXeIpD,AMXkBuE,EFGhBnB,EHQEzB,UAAU,GAAG,EDAE,ACArB,CDAsB5C,CIRC,CAACoE,IAAD,CJQrB,AIRE,CJQ2BhD,QAAD,IAAcA,QAAQ,EAAlD;AEtBwB,AFuBzB,AMZM,AFIH8C,ACCJ,AJQA,GDJA,AMTA,GFIIA,GCCG,AJQCrB,CIRAsC,MJQD,ECxBI3B,EEeO,AHSE,CGTDS,CCCZ,EAAee,MAAf,EDDuB,CFfJ,AEeKP,ECCE,GDDd,GAAoB,CAArB,CAAd;AFfsB,AIY3B,AFIK,ACCF,AMaJmC,AVLI,CKtBG,KK2BD,CAACC,CNbC,CAAC9B,CJQCjC,GUKV,EDZgBjB,CCYA2E,IDZD,ACYf,IDZ0B,ALDF,AJQA,CIRCxB,EJQElD,IIRvB,EAA6B,mBJQmB,CAACe,OAAD,CAAhD;ACzBwB,AQmB1B,AVMA,AIRG,ACCCkC,AJQF,MIREA,EKCEC,CVMC,CCCC/E,ISPI,GAAG,ATOA,GAAGyC,CIRC,CAACsC,CKCC,KLDjB,AJQsB,CAACjC,EIREiC,MAAzB,KJQc,CAAuBlC,cAAvB,CAAhB;AC1BwB,AQoBxB,AVMA5B,AIRD,ACCG+D,AJSF,GC5BG,AESL,CJiBE/D,EKPE+D,IKCItE,CTQEqC,CDHH,AKNG,CAACmC,IJSF,IAAY,GSRC,CLDZ,CAAN,CKCqBtD,KAAK,CAACX,QAAN,GAAiBP,cAAxC;AAEA4E,AVKApE,AIRH,ACCI,AJSC,COtBN,AJPO,GMsBHoE,AVKApE,QCEQ8B,CSPC,AVGJ,CUHK,MAAM,KTOK,GAAGnB,yBAAyB,CAACkB,MAAD,CAA/C;ASNA,AVKFpB,ACGE,IDHFA,MULMjB,ETQEuC,YSRN,EAAoB6C,ETQE,GAAGnD,ESRE,CAACyD,GAAR,CAAa,GTQE,CAACpD,aAAD,CAAnC,QSR0DtC,cAAe,EAArD;AACrB,AFPL,ARQS,AKHL,GLGF,EUHW,CFLPgF,CEOC,CAAChF,GLFG,CAACmE,UKEL,CAFM,CAAT,ELAO,EAAiBG,EGLE,GAAIpD,CHKvB,CAAP,GGL6B,IAAW;AESxCuE,AFRF,ARYD,AKPG,AJSE,CD9BN,EKcE,CKUEA,IFRIpB,CEQC,CAACsB,ATMApD,IOdI,GAAG,KEQb,CAAmB,AFRA,GPcjB,EAAsB,ISNxB,EAA8B,MAA9B;AACA,AFRA,AHKH,AJSOjD,CIjCD,OK2BCU,ATMAV,EOdE,CAAC2F,IPcI,CAACzC,IOdN,EEQN,AFRkB0C,EEQEO,CTMhB,GAAoBlD,CSNC,CAACqD,GAAN,CFRd,EEQ0B5F,EFRE6E,MPc9B,EOdsC,CAAC,GEQvB,EFRsB,EAAQR,MAAR,CAA1C;AEUA,AVGG,ACGC,MDHKnD,KUHF,AVGO,GAAGd,CCGNd,OAAP,GDHwB,CAACQ,WUHZ,CACf2F,IVE0B,CUHX,AVGd,CUHI,EAEJD,cAFI,CAAP;AAGD,AFXC,APeG,GSjBL,OFEQL,cAAc;AAAA,mCAAG,aAAY;AEarC,AFZID,AHIC,AJYD,MIZOT,EGJPS,CEYGb,GTIG7B,GSJV,KFZgB,CAAC,APgBE,EIZS,CJYNnB,COhBN,CAAZ,AHI2B,MAAM,YJYK,CAAC,CAAD,CAAtC;ASHL,AFZK,AHIJ,AJYI,QIZE8C,IJYI1B,EOhBA,GPgBK,GAAGV,EIZE,GAAG,GJYG,CAACK,aAAT,CAAuB,OAAvB,CAAd;AOhBQY,AHKVc,AJYErB,IIZFqB,EJYErB,GIZG,CGLKO,CHKH/C,AJYA,CAACyC,EOjBA,SPiBN,GAAqB,IAAGF,SAAU,MAAKF,aAAc,IAArD;AOjBcW,AHIK,AJcnBnB,GIdJ,GJcIA,IOlBcmB,APkBV,CAACxD,WAAL,CAAiBgD,KAAjB;AOlBM,APoBNnD,MAAAA,OAAO,CAACkD,IOpBsB,KPoB9B,GAAoBA,SAApB,iBOpBA;AACA,AHMJ,AJeI,QIfE8B,IGNErB,EHMI,GGNR,AHMYsB,EGNDa,MHMA,CGNO,CAACnC,EHMM,GGNd,CAAcA,KAAd;AACX/B,AHMFiD,IAAAA,IGNEjD,KAAK,CAACD,IHMM,CAAC6C,GGNb,CAAe,CHMjB,GAAuBS,QAAvB,oBGNmCvB,IAAI,CAACqC,GAAvB,CAAf;AACAH,AHMH,GAFD,KGJIA,YAAY,CAAC,KAAD,CAAZ;AACD,OANmB;AHatB,SAAQV,YAAD,IAAkB;AGbH,AHclBF,AJcArC,IIdAqC,EJcArC,IIdM,CAACuC,KJcG,CAAClC,KO5BP6C,CHcE,CAAN,MJcwB,CAACxC,KO5BP,EP4BP,CAAsB,MAAtB,EAA8B,EAA9B,CAAD,CAAV,GAAgDH,SAAhD;AO5BkB,AHgBlB,AJcA,WIdO,CAAC2B,CJcD7E,OAAP,MIdO,EAAiBgF,MAAjB,CAAP;AGhBkB,AHiBpB,AJcC,GIlBH,EJNE;AOPoB,AHkBvB,AJcE,CI3BI,EJFL,IOHE;APiCH,CAnCD;AOUIM,IAAAA,SAAS,CAAC,MAAM;AACdO,AP0BC,MO1BDA,AP0BOvC,MAAM,GAAGf,KO1BF,WP0BkB,EAA/B;AOzBF,KAFQ,EAEN,EAFM,CAAT;AAIAkD,IAAAA,MAAM,CAACO,OAAP,GAAiBH,cAAjB;AAEA,QAAIF,SAAS,CAACnB,KAAd,EAAqBiB,MAAM,CAACrC,WAAP,GAAqB,SAArB,CAArB,KACKqC,MAAM,CAACrC,WAAP,GAAqB,0CAArB;AAEL,WAAOqC,MAAP;AACD,GArBD;;AAuBA,SAAOV,MAAP;AACD,CAzBD;;eA2BeW","file":"js.00a46daa.js","sourceRoot":"..","sourcesContent":["export const renderDOM = (arrayOfHTMLElements, parent) => {\n    if (!Array.isArray(arrayOfHTMLElements)) {\n      throw new Error('htmlelements is not array');\n    } else {\n      arrayOfHTMLElements.forEach((element, currentIndex) => {\n          if (Array.isArray(element)) {\n            const cannotUsePrevElementAsParent = Array.isArray(arrayOfHTMLElements[currentIndex - 1])\n            renderDOM(element, currentIndex === 0 || cannotUsePrevElementAsParent ? parent : arrayOfHTMLElements[currentIndex - 1]);\n          } else {\n            parent.appendChild(element);\n          }\n      });\n    };\n\n    return parent;\n  }\n","export const actionTypes = Object.freeze({\n  UPDATE_RANDOM_PHOTO_URL: 'UPDATE_RANDOM_PHOTO_URL',  \n})\n","import { actionTypes } from './actionTypes.js';\n\nexport const reducer = (prevState = {\n  randomPhotoUrl: undefined,\n}, action) => {\n  switch(action.type) {\n    case actionTypes.UPDATE_RANDOM_PHOTO_URL:\n      return {\n        ...prevState,\n        randomPhotoUrl: action.randomPhotoUrl,\n      }\n  }\n}\n","import { reducer } from './reducer.js'\n\nconst createStore = (reducer) => {\n  let rootState = {};\n\n  const listenersOnDispatch = []\n\n  const getState = () => rootState;\n\n  const subscribe = (listener) => {\n    listenersOnDispatch.push(listener)\n\n    const lengthOfListeners = listenersOnDispatch.length;\n\n    return () => {\n      const indexToDelete = listenersOnDispatch.indexOf(listener);\n      if (index > -1) listenersOnDispatch.splice(indexToDelete, 1);\n    }\n  }\n\n  const dispatch = (action) => {\n    rootState = reducer(rootState, action)\n    listenersOnDispatch.forEach((listener) => listener())\n  }\n\n  return {\n    getState,\n    subscribe,\n    dispatch,\n  };\n}\n\nexport const store = createStore(reducer);\n","/**\n * when you use a syntax like styled(`button`)`width: 10px; height: 10px;` instead of\n * styled(`button`)(`width: 10px; height: 10px;`)\n */ \nconst receiveCorrectStringInput = (mightBeString) => {\n  if (Array.isArray(mightBeString)) return mightBeString[0];\n  else return mightBeString;\n}\n\nconst generateRandomString = (length) => {\n  let text = \"\";\n  const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n   \n  for (var i = 0; i < length; i++)\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n   \n  return text;\n}\n\nconst initializeStyled = () => {\n  const head = document.getElementsByTagName('head')[0];\n\n  const classCache = {}\n\n  return (tagName) => {\n    const correctTagName = receiveCorrectStringInput(tagName);\n    const element = document.createElement(correctTagName);\n\n    return (styles) => {\n      const correctStyles = receiveCorrectStringInput(styles);\n\n      const classNameInCache = classCache[correctStyles];\n      if (classNameInCache) {\n        element.className = classNameInCache;\n  \n        return element;\n      }\n  \n      const className = generateRandomString(7);\n      const style = document.createElement('style');\n      style.textContent = `.${className} { ${correctStyles} }`;\n      head.appendChild(style);\n  \n      element.className = className;\n\n      /**\n       * Caveat: you should also write the order of styles the same\n       * which is very inconvenient. But it just works now (to keep the simplicity)\n       */\n      classCache[correctStyles.replace(/\\s+/g, '')] = className;\n  \n      return element;\n    }\n  }\n}\n\nexport const styled = initializeStyled();\n","export const tryCatchWrapper = async (promise) => {\n  try { \n    const response = await promise;\n\n    return { data: response, error: null };\n  } catch (error) {\n    return { data: null, error };\n  }\n}","import { tryCatchWrapper } from './tryCatchWrapper.js';\n\nexport const RANDOM_PHOTO_URL = 'https://source.unsplash.com/random';\n\nexport const fetchSingleRandomPhoto = () => tryCatchWrapper(fetch(RANDOM_PHOTO_URL));\n\n","export const __useEffect = ({ renderCount, setRenderCount }) => {\n  const depsInClosure = {\n    deps: [],\n  }\n  const updateDepsInClosure = (deps) => {\n    depsInClosure.deps = []\n    deps.forEach((dep) => depsInClosure.deps.push(dep));\n  }\n\n  return (callback, deps) => {\n    const isFirstRender = renderCount.value === 0;\n    const areDepsChanged = depsInClosure.deps.some((dep, idx) => dep !== deps[idx]);\n    if (isFirstRender || areDepsChanged) {\n      callback();\n      updateDepsInClosure(deps);\n      setRenderCount(renderCount.value + 1);\n      return;\n    }\n  }\n};\n","export const __useState = ({ renderCount, setRenderCount }) => {\n  const valueInClosure = {\n    value: undefined,\n  }\n  const renderInClosure = {\n    render: undefined,\n  }\n\n  const setter = (newValue) => {\n    valueInClosure.value = newValue;\n    if (renderCount.value > 0) {\n      renderInClosure.render();\n      setRenderCount(renderCount.value + 1);\n    }\n  }\n\n  return (initialValue, render) => {\n    if (!renderInClosure.render) {\n      renderInClosure.render = render\n      setter(initialValue);\n    }\n  \n    return [valueInClosure, setter];\n   };\n};\n\nexport const __useStateInteral = () => {\n  const valueInClosure = {\n    value: undefined,\n  }\n  const setter = (newValue) => {\n    valueInClosure.value = newValue;\n  }\n\n  return (initialValue) => {\n      setter(initialValue);\n    \n      return [valueInClosure, setter];\n   };\n}\n","import { __useEffect } from './useEffect.js';\nimport { __useState, __useStateInteral } from './useState.js';\n\nexport const initializeHooks = () => {\n  // setState just for internal use\n  const useStateInternal = __useStateInteral();\n  const [renderCount, setRenderCount] = useStateInternal(0);\n  // for external use\n  const useEffect = __useEffect({ renderCount, setRenderCount });\n  const useState = __useState({ renderCount, setRenderCount });\n\n  return { useEffect, useState }\n};\n","import { actionTypes } from './actionTypes.js';\n\nexport const updateRandomPhoto = (randomPhotoUrl) => ({\n  type: actionTypes.UPDATE_RANDOM_PHOTO_URL,\n  randomPhotoUrl,\n});\n","import { styled } from '../ui/styled.js';\nimport { fetchSingleRandomPhoto } from '../api/api.js';\nimport { initializeHooks } from '../hooks/index.js';\nimport { updateRandomPhoto } from '../global-state/actions.js';\n\nconst { useEffect, useState } = initializeHooks();\n\nconst Button = styled`button``\n  width: max-content;\n  min-width: 250px;\n  height: 50px;\n  background-color: white;\n  border: 1px solid black;\n  cursor: pointer;\n  font-size: 32px;\n`\n\nconst RequestRandomPhotoButton = (store) => {\n  const render = () => {\n    const [isLoading, setIsLoading] = useState(false, render);\n\n    const getRandomPhoto = async () => {\n      setIsLoading(true);\n      const { data, error } = await fetchSingleRandomPhoto();\n      if (error) console.error(error);\n      store.dispatch(updateRandomPhoto(data.url));\n      setIsLoading(false);\n    }\n\n    useEffect(() => {\n      getRandomPhoto();\n    }, []);\n\n    Button.onclick = getRandomPhoto;\n    \n    if (isLoading.value) Button.textContent = 'loading'\n    else Button.textContent = 'click the button to request random image'\n\n    return Button;\n  }\n\n  return render;\n}\n\nexport default RequestRandomPhotoButton;\n","import { styled } from '../ui/styled.js';\n\nconst Layout = styled`section``\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n`\n\nexport default () => () => Layout;\n","import { styled } from '../ui/styled.js';\nimport { renderDOM } from '../ui/renderDOM.js';\nimport { initializeHooks } from '../hooks/index.js';\nconst { useEffect } = initializeHooks();\n\nconst PhotoContainer = styled`figure``\n  border: 1px solid black;\n  min-width: 500px;\n  min-height: 500px;\n  display: flex;\n`\n\nconst Photo = styled`img``\n  max-width: 500px;\n  max-height: 500px;\n  margin: auto;\n`\n\nexport default (store) => {\n  const render = () => {\n    const randomPhotoUrl = store.getState().randomPhotoUrl;\n    \n    useEffect(() => {\n      if (randomPhotoUrl) console.log(`The URL has changed to ${randomPhotoUrl}`);\n    }, [randomPhotoUrl]);\n    \n    Photo.setAttribute('loading', 'lazy');\n    if (randomPhotoUrl) Photo.src = randomPhotoUrl;\n\n    return renderDOM([\n      Photo,\n    ], PhotoContainer);\n  }\n\n  return render;\n};\n","import { renderDOM } from './ui/renderDOM.js'\nimport { store } from './global-state/store.js'\n\nimport RequestRandomPhotoButton from './components/RequestRandomPhotoButton.js'\nimport Layout from './components/Layout.js'\nimport PhotoViewer from './components/PhotoViewer.js'\n\nconst main = () => {\n  const root = document.getElementById('root');\n\n  const render = (__store) => {\n    renderDOM(\n      [\n        Layout()(),\n        [\n          PhotoViewer(__store)(),\n          RequestRandomPhotoButton(__store)(),\n        ]\n      ],\n      root,\n    );\n  }\n    \n  store.subscribe(() => {\n    render(store);\n  })\n\n  render(store);\n}\n\nwindow.onload = main;"]}