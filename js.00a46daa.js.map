{"version":3,"sources":["js/ui/renderDOM.js","js/global-state/actionTypes.js","js/global-state/reducer.js","js/global-state/store.js","js/ui/styled.js","js/api/tryCatchWrapper.js","js/api/api.js","js/hooks/useEffect.js","js/hooks/useState.js","js/hooks/index.js","js/global-state/actions.js","js/components/Button.js","js/components/Layout.js","js/components/PhotoViewer.js","js/index.js"],"names":["renderDOM","arrayOfHTMLElements","parent","Array","isArray","Error","forEach","element","currentIndex","cannotUsePrevElementAsParent","appendChild","actionTypes","Object","freeze","UPDATE_RANDOM_PHOTO_URL","reducer","prevState","randomPhotoUrl","undefined","action","type","createStore","rootState","listenersOnDispatch","getState","subscribe","listener","push","lengthOfListeners","length","indexToDelete","indexOf","index","splice","dispatch","store","receiveCorrectStringInput","mightBeString","generateRandomString","text","possible","i","charAt","Math","floor","random","initializeStyled","head","document","getElementsByTagName","classCache","tagName","correctTagName","createElement","styles","correctStyles","classNameInCache","className","style","textContent","replace","styled","tryCatchWrapper","promise","response","data","error","RANDOM_PHOTO_URL","fetchSingleRandomPhoto","fetch","__useEffect","depsInClosure","deps","isFirstRenderWrapper","isFirstRender","updateDepsInClosure","dep","callback","some","idx","__useState","renderCount","setRenderCount","valueInClosure","value","renderInClosure","render","setter","newValue","initialValue","__useStateInteral","useEffect","useState","updateRandomPhoto","Button","RequestRandomPhotoButton","isLoading","setIsLoading","handleButtonClick","console","url","onclick","Layout","PhotoContainer","Photo","src","setAttribute","main","root","getElementById","__store","window","onload"],"mappings":";;AcAA;;AACA;;AbDO,AaGP,MbHaW,WAAW,GAAGC,MAAM,CAACC,MAAP,CAAc;AKAzC,AKAA,ACAA,ACAA,AZCEC,ASDF,ARAA,ACAA,AMAA,AFAO,ACAA,ARAA,AIAP,EHCEA,IMDWwD,ACAAU,ARAAhF,SAAS,CQAC,CDAC,CPAC,CQAC,ARAAC,COAC,ACAA,KPCF,CMDQ,CNCN,WDDF,EAAsBC,MAAtB,KAAiC;ACAjB,AMCvC,ACD2B+E,AMI7B,AdHI,CCDuB,CAApB,AOAsBA,IRCrB,CAAC9E,COADoE,IPAM,CQDa,ARCZnE,OAAN,COAY,APAEH,GOAC,gBPAf,CAAL,EAAyC;AMCtC,AKDP,ACCA,ACDA,AHCO,APAP,AMDA,AFCIuE,ACFsCU,AREpC,EQFoCA,EDEtCV,EDASL,AMAPmC,AFAOT,APAPxE,EIAE,EAAE,APAE,EYAA,EZAIhB,CYAD,ETAE,EHAL,CGASU,AHAC,EMAO,CIAC,EJAE,CIAEE,CPAd,IAAa,GSAX,MFAW,GEAF,EFAuB,EVA1C,CAAN,aMAC;AICLG,APAA,AIFsB,ACDG,AMK3B,AdFK,CQHqB,CEGxBA,CHFA,APAE,GUEE,AFHyD,EEGvDT,CVAG,wBUASG,uBADkC;ALF/C,AMEP,AEAA,AHEEG,ADDK,AFCL,ACHA,ARGIhB,AIAN,EMAEgB,EVAIhB,EKJO6D,AIGA,ALCP1B,EGAEqC,ACHAU,aHDoB,CGCN,CRGG,CAAC7E,CQHD,GDGG,GAAG,APAzB,AIAyB,CJAG,CAACC,CIAA8B,MJAD,EAAU7B,KIAV,IAAmB,GJAnB,KAA2B;AMAtD,ADJqB,AKE0B,ADCvCmF,AFEXjB,ACHAU,ARGM,AIAR,CMH+B,CAA1B,ADCQO,EFEXjB,ACHAU,EFEShB,AFCPjE,GIHG,CRGKA,CSFD,ADDFe,AJGA,CAACd,GJAO,CAACA,COAH,EAAE,AHAb,CAAciC,GJAN,CAAc9B,IMDO,GAAG,ADJP,ALKjB,CAAJ,CIAJ,CJAgC,AIApC,EAAkC,CEDQ,KDJNwD,CDKK1B,MCLZ,EAAmB,KDKM,CAAC,CAAD,CAApB,CAAlC,KACK,OAAOA,GEF8CgC,KAAK,CAACF,IFE3D,YEF0D,CAArB,CAArC;ADHL,AMEF,AECA,AJD0ByB,AFCK,ACHN,ARKb,AICX,CAHD,CKD0BA,CFCxB,ACHA,GKGIW,ERHA,MLKY9F,MaFE,GAAG,mBAAO,AbEgB,GAAGN,KaFX,AbEgB,CAACC,OAAN,CAAcH,mBAAmB,CAACO,YAAY,GAAG,CAAhB,CAAjC,CAArC;AKJR,AICS,ADCX,AMGF,AdAYR,ISJ2B,CAAC,CKIlC2G,ENHEtB,ARGIrF,EcAF,CLJoC,CJDpCgE,CSKG,IdAQ,CAACzD,CcAH,CTLD,GGEK,ERGF,CQHK,CRGKC,EKLJuD,OAAvB,GLKuC,KAAK,CAAjB,IAAsBtD,4BAAtB,GAAqDP,MAArD,GAA8DD,mBAAmB,CAACO,YAAY,GAAG,CAAhB,CAA3F,CAAT;AKHR,AHFG,AOEL,AFGA,ACFE8E,AMGF,AdAS,AICX,IIJIA,ENHSvE,AEOPuB,CJJI,COEFqC,AOCAiC,ENHE,EAAE1F,AMGA,CTJD,AHFS,AFMH,EcAF8B,CZNQ,CAAChC,MYMD,CAAC6F,EZNS,AEOP,CGFC,ELLS,AEONhF,CGFC2C,IAAD,CHED,GGFW,AOCzB,CAAwB,AVCE,MUD1B,CAAb;ATJWP,AHDXhD,AOEA,AFGEsD,ACJsB,ARKdrE,AICV,CQRF,CVCEe,CMCA,CDIEsD,EHEEhC,ECNO0B,AICL,ATII/D,CSJH+E,CLKC,ECNO,CDMJ,CCNMjB,ALKD,CAACtD,AICjB,CFPc,CKKC,CLLCQ,AKKAsD,EEHV,EJDG,AICWU,AFGlB,GAAqB,CPCb,CODR,APC2B3E,OAAnB,ESJJ,IAAgC,iCAAkB,CAAlB,CAAtC,CAF4C,CAG5C;AJF2B2D,AHFO,ACQlC,AIDEM,AOCF,AdAS,AICT,CSPF,AXFuB,EAEpBrD,CKKCqD,EJCElD,EENuB4C,AEKrB,AOCAoB,AVCA9C,CFTe,AKOdlC,IFLyB,CHApB,AYMA,CTNsB,AFMrB,CIDX,AHEY,CGFEsE,AOCAkC,CXAA,CCCC,CDDjB,AIDe,IAASvC,AOCT,IAAa,SPDS,CAACC,IAAd,CAAmB7C,IAAnB,CAAwBiD,GAAxB,CAAtB,qBHEF;ACPS,AQMX,AXLE,ACMA,AMJA,AFGC,ACFD,AMGE,AdAG,GOJL,EPHI,CaMA4B,CRNF,CIGIb,ADCAJ,ENHCpE,CWKE,GAAG,ALFA,CIGC,CVNA,CAACC,AOEC,ADCCoE,GCDE,CGIC,AVNnB,IMGe,EIGUc,EJHI,CMIzB,CACE,EDHa,KAAK,EAA1B,QJHgC,OKK1B,EAEE,CACE,0BAAYQ,OAAZ,GADF,EAEE,qBAAyBA,OAAzB,GAFF,CAFF,CADF,EAQEF,IARF;ATND,AMAH,ATCI,AOC8B3B,ADE9BE,AMYD,AdTE,AICH,GUHA,CLHgCF,ADE9BE,CHRF,CAIE,AMAEW,CPQC,EFPEnF,EEOE8B,CORC,APQA,CCRDyB,EMAI,AFEiB,ALMjB,CAAb,ECRE,AGIc,AJIAzB,CIJC2C,AJIA,CCRD,EDQIvD,EIJlB,GAAuB2D,CJIzB,EAA4B/C,CAAC,EAA7B,CORoB,ATCD3B,CMGjB,AJKAyB,IAAI,GOTsB,CPSlBC,QAAQ,CAACE,KFRjB,CEQQ,CAAgBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBL,QAAQ,CAACX,MAApC,CAAhB,CAAR;ACRA,AHCE,AOAyCqD,AFK7C,IEL6CA,KFKtC,CAACL,GFNC,EQMK1C,GNAP,EMAM,ANAKqC,IMAM,ANAjB,KAAoB,ELJlBxD,SADL;AGDOiD,AQOX,AXJMhD,AOFwB,AFM5B,ACHA,AMaFkB,AdXG,AIIH,GKTkB,CAAlB,IJDW8B,AQOLqB,AXJArE,AKIAwD,ACHAQ,CJMC1C,GCVQ,CDUf,CCViB,AQOL,CCUNd,EDVS,CRPN,CGIQ,CAAC2D,ENDE,CWIC,CXJCjE,AYctB,CNbM,AMaU,GPVU,ACHA,CDGCuD,ACHzB,CND0B,CAACzD,AMCA,AMaP,WPVpB,EAAwC;AFPnBiD,AQQrB,AXPE,ACOJ,AMNA,AFMIS,ACHAU,AMaFC,AdVA,AIGH,CARD,GUeIA,EPVEX,ACHAU,EHLmBnB,AFQjB3C,AMNAqE,CTMG1F,CaADe,ACUA,CAACkB,IdVP,CSNY,GAAG,EDGE,CAACmD,CMaZ,CDVc,ACUpB,CPVqB,CAACd,CMACrC,AVAA,CKHrB,ELGwB,AIAL,CAAnB,CMA0B,AVA9B,CUA+BX,QAAN,GAAiBP,CJNd,aIM1B;ARRO,AQUP,AXXF,ACWA,AMR8BgE,AFO3B,ACHA,AMaF,AdVA,CAfI,EcuBL,CLf8BA,GJF5B,QIE0B,WIQhB,MAAM;ARTjB,AQUG,AXLL,AOJ4CC,ALW7C,CFjBO,GOMsCA,ELWvCpC,ISFI7B,YTEY,ESFhB,CTEmB,CSFC,KTEK;ACX9B,AQUOuF,AJVsB,AFQ1B,ACHAtB,AMcFI,AVPA,EUOAA,CT3B0B,AIQT,CAAjB,ADKEJ,IKKIsB,ANFA/B,AOWA,AVPA1B,CUOCZ,GVPG,CSFC,CAACsE,CTECzD,ESFP,CLLU,CAACiC,CKKChE,CCSZ,CAAN,CVPqB,CAACgC,IGJI,CAACyB,CCHC,CAACU,GKKvB,ELLW,GAAoB,CAArB,CAAd,CDGI,EHIO,CAA8B,CGJCb,KHI/B,EAAsC,CAAtC,CAAb,IGJyD,CAACC,IAAd,CAAmBM,IAAnB,CAAwB,CAACF,GAAD,EAAMG,GAAN,KAAcH,GAAG,KAAKJ,IAAI,CAACO,GAAD,CAAlD,CAA1C,EAAoG;AMGjG,AJTL,AFOIF,ACHH,AMcF,AVNC,CUfF,ENCE,GDSIA,EHKE3B,CKZC,KFOK,IHKI,GAAG,EAAnB;ACtB0B,AQoBvB,AVDH,AMTSyC,AFQLhB,AHMJ,COnBF,GFKWgB,CIMP,CNEEhB,CMEC,CAAC1D,AVDAO,CCKE2B,IKdD,GNSO,ACKP,ECxBIW,CFmBM,CCKG,ESJf,CAJH,EVGqBxC,AIDA,CAACkD,IAAD,CAAnB,EFlBsB,CFmB1B;AEnB0B,AQsBxBgC,AVDF,AMXoBZ,AFShBnB,ACHJ,AMcFsC,AVLI,ISHAP,AJZkBZ,EFShBnB,AOWA,CAACuC,EDRE,ALNA,CKMCN,ALNAjB,AJSArC,GUKV,GAAgBuD,IAAhB,EDRI,ALNK,CKMc,CLNCrB,AJSA,EGNE,CAACZ,AHMAtC,GITlB,EKML,EAA8B,CLNC,KKM/B,ANHE,GAAqC,KAArC,IHM8C,CAACe,OAAD,CAAhD;ACzBwB,AMe5B,AESI,AJdK,AFWH,ACJF,AJSA,GKhBF,GEKI4C,EHEEd,EJSE1E,CSFC,MTEM,EITE,CAAC6E,AJSApC,KITZ,GJSoB,CAACK,COXC,AHEA,CAA1B,EGF8BlB,AHED,IKOZ,CFTY,AEU3BqE,IFVsC,APWxB,CSFC,ATEsBpD,CSFhC,EAEJmD,WTAa,CAAhB,ESFO,CAAP;ARxBwB,AMgB1B,AEWC,AJhBF,AFWI,ACJClB,AJUF,CKzBmC,EJHhC,AQaL,CJVK,EDeDA,EGFEC,GPYIhC,GOZE,GAAG,APYN,IIVU,AJUE,CIVDgC,CGFC,KHEjB,GAAyBA,MAAzB;AGDF,AJMD,ACJGC,AJUA,GGjBJ,GCOIA,IGFI,CAACS,CHEC,AJUAzC,CIVCkC,OGFH,EAAYQ,GHEV,AJUa,CIVnB,EJUsB7D,MOZlB,IAA4B,ePYe,CAACkB,KOZP,CPYM,CAA/C,GOZgC,EAAgBgC,MAAhB,CAAlC;AAEA,AEUF,ANLD,ACJI,AJWC,CG/BC,QM6BEA,GTEG9B,GSFV,WFVY,EPYc,GAAGN,COZX,SPYqB,CAACK,aAAD,CAAnC;AOXA,AEUL,UFVSyC,SAAS,CAACZ,KAAd,EAAqBU,MAAM,CAACnC,WAAP,GAAqB,SAArB,CAArB,KACKmC,MAAM,CAACnC,WAAP,GAAqB,0CAArB;AACN,AHAD,AJUE,KObF,EAGG,CAACqC,EPUExC,CIVC,CAAC2B,KGAK,CAACC,KAAX,CAHH,EHGO,AJUL,EIVsBG,AJUA,MIVjB,CAAP;ALIF,AKHE,AJUIhF,GIjBN,KLUMkB,ACOAlB,OAAO,CAACkD,CDPC,GAAI/B,KCOb,GDPY,ACOQ8B,IDPM,YCO1B;AOTJ,ARGAjC,AKHH,AJWO,CInCD,GL2BHA,MQHM2E,KPWK3F,OAAP,CDRe,CAACoB,GQHG,CRGvB,CAAyBD,QAAzB;AQHuB,ARKvB,ACOG,UDPGE,iBAAiB,GAAGL,KQLA,aAAY,CRKO,CAACM,MAA9C;AQJEoE,ARMF,QQNEA,GRMK,MAAM,GQNC,CAAC,IAAD,CAAZ;AACA,ARMA,ACMA,YDNMnE,ACMA2B,EOZA,OPYS,GAAGnB,CDNC,GAAGf,gBCMgB,CAAC,CAAD,CDNG,ACMzC,CDN0CQ,OAApB,CAA4BL,QAA5B,CAAtB;AQNQuC,AROR,AKPC,AJaD,MIbOyB,IGACzB,AROJjC,ECME0B,EObA,CROG,ECME,CDNC,CAAC,CAAb,ACMcV,EDNEzB,CKPQ,GAAG,CAAC,CJaN,CAAC8B,IIbW,QLOC,CAACpB,ACMtB,CAAuB,KDNrB,CAA2BH,CCM7B,CAAd,WDNgB,EAA0C,CAA1C;AQPFoC,ARQf,AKPH,AJaIR,KDTF,CCSEA,EIbEyB,EGDYjB,CPcT,CAACP,UIbU,CJahB,EIbmB,CJaE,IAAGF,SAAU,MAAKF,aAAc,IAArD;AOdM,ARST,AKPC6B,AJaErC,GDfJ,CKEEqC,EJaErC,GIbG,CJaC,CIbC7B,AJaAR,OOfyB,IPe9B,CAAiBgD,KAAjB,wBOfA;AACA,ARUJ,AKVuB,AJgBnBnD,GIhBJ,GJgBIA,MOhBI2D,CPgBG,CAACT,GOhBR,EAAW0C,IPgBX,GOhBkB,APgBE1C,COhBDS,KAAR,CAAcA,EPgBzB,GOhBW;AACX/B,APiBA,QOjBAA,KAAK,CAACD,QAAN,CAAe,gCAAkB+B,IAAI,CAACmC,GAAvB,CAAf;AACAH,AHCJ,QGDIA,AHCEV,MAAM,GAAIC,GGDA,CAAC,IHCF,CGDC,CAAZ,EHCyB;AGA1B,AHCDL,IAAAA,GGPuB,WHOT,CAACC,KAAf,GAAuBI,QAAvB;AACD,GAFD;AGNyB,sBAAjBU,iBAAiB;AAAA,AHUzB,AJeIhD,MAAAA,GIfIuC,OJeM,CAAClC,IIfR,IAAkB,KJeG,CAACK,OAAd,CAAsB,MAAtB,EAA8B,EAA9B,CAAD,CAAV,GAAgDH,SAAhD;AOzBqB,AHWrB8B,AJgBA,IIhBAA,MAAM,CAACE,EJgBAlF,OAAP,GIhBM,CAAN;AGXqB,AHarB,AJeD,KAxBD,EOJA,IHaS,CAAC4E,cAAD,EAAiBI,MAAjB,CAAP;AACF,AJeD,GInBD,AJVA;AOQEO,AHOH,AJeA,CI5BgC,AJPjC,GOaIA,AHNG,MGMG,CAACO,OAAP,GAAiBH,iBAAjB;AAEA,WAAOJ,MAAP;AACD,ARYD,ACSK,GOxCL,GPwCWjC,EDTL3B,ICSW,GAAGY,CDTN,GAAI3B,MAAD,IAAY,ECSO,EAA/B;ADRHG,IAAAA,SAAS,GAAGP,OAAO,CAACO,SAAD,EAAYH,MAAZ,CAAnB;AQXF,ARYEI,IAAAA,KQZK+D,MAAP,QRYqB,CAAChF,OAApB,CAA6BoB,QAAD,IAAcA,QAAQ,EAAlD;AQXH,ARYE,CQnCH,ERgCE;;AAKA,SAAO,MQZMqE;ARaXvE,IAAAA,QADK;AAELC,IAAAA,SAFK;AAGLS,IAAAA;AAHK,GAAP;AAKD,CAvDD;;AAyDO,MAAMC,KAAK,GAAGd,WAAW,CAACN,gBAAD,CAAzB","file":"js.00a46daa.js","sourceRoot":"..","sourcesContent":["export const renderDOM = (arrayOfHTMLElements, parent) => {\n    if (!Array.isArray(arrayOfHTMLElements)) {\n      throw new Error('htmlelements is not array');\n    } else {\n      arrayOfHTMLElements.forEach((element, currentIndex) => {\n          if (Array.isArray(element)) {\n            const cannotUsePrevElementAsParent = Array.isArray(arrayOfHTMLElements[currentIndex - 1])\n            renderDOM(element, currentIndex === 0 || cannotUsePrevElementAsParent ? parent : arrayOfHTMLElements[currentIndex - 1]);\n          } else {\n            parent.appendChild(element);\n          }\n      });\n    };\n\n    return parent;\n  }\n","export const actionTypes = Object.freeze({\n  UPDATE_RANDOM_PHOTO_URL: 'UPDATE_RANDOM_PHOTO_URL',  \n})\n","import { actionTypes } from './actionTypes.js';\n\nexport const reducer = (prevState = {\n  randomPhotoUrl: undefined,\n}, action) => {\n  switch(action.type) {\n    case actionTypes.UPDATE_RANDOM_PHOTO_URL:\n      return {\n        ...prevState,\n        randomPhotoUrl: action.randomPhotoUrl,\n      }\n  }\n}\n","import { reducer } from './reducer.js'\n\nconst createStore = (reducer) => {\n  /**\n   * interface RootState {\n   *   counter: number;\n   * }\n   * \n   * rootState: RootState\n   */\n  let rootState = {};\n  /**\n   * listeners: Readonly<Array<Function>>\n   */\n  const listenersOnDispatch = []\n\n  /**\n   * getState: () => RootState | undefined\n   */\n  const getState = () => rootState;\n\n  /**\n   * type Unsubscriber = () => void;\n   * \n   * subscribe: (listener: Readonly<Function>) => Unsubscriber;\n   */ \n  const subscribe = (listener) => {\n    listenersOnDispatch.push(listener)\n\n    const lengthOfListeners = listenersOnDispatch.length;\n\n    return () => {\n      const indexToDelete = listenersOnDispatch.indexOf(listener);\n      if (index > -1) listenersOnDispatch.splice(indexToDelete, 1);\n    }\n  }\n\n  /**\n   * enum ActionTypes {\n   *   CLICK = 'CLICK';\n   * }\n   * \n   * interface Action {\n   *   type: ActionTypes;\n   *   payload: any;\n   * }\n   */ \n  const dispatch = (action) => {\n    rootState = reducer(rootState, action)\n    listenersOnDispatch.forEach((listener) => listener())\n  }\n\n  return {\n    getState,\n    subscribe,\n    dispatch,\n  };\n}\n\nexport const store = createStore(reducer);\n","/**\n * when you use a syntax like styled(`button`)`width: 10px; height: 10px;` instead of\n * styled(`button`)(`width: 10px; height: 10px;`)\n */ \nconst receiveCorrectStringInput = (mightBeString) => {\n  if (Array.isArray(mightBeString)) return mightBeString[0];\n  else return mightBeString;\n}\n\nconst generateRandomString = (length) => {\n  let text = \"\";\n  const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n   \n  for (var i = 0; i < length; i++)\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n   \n  return text;\n}\n\nconst initializeStyled = () => {\n  const head = document.getElementsByTagName('head')[0];\n\n  const classCache = {}\n\n  return (tagName) => {\n    const correctTagName = receiveCorrectStringInput(tagName);\n    const element = document.createElement(correctTagName);\n\n    return (styles) => {\n      const correctStyles = receiveCorrectStringInput(styles);\n\n      const classNameInCache = classCache[correctStyles];\n      if (classNameInCache) {\n        element.className = classNameInCache;\n  \n        return element;\n      }\n  \n      const className = generateRandomString(7);\n      const style = document.createElement('style');\n      style.textContent = `.${className} { ${correctStyles} }`;\n      head.appendChild(style);\n  \n      element.className = className;\n\n      /**\n       * Caveat: you should also write the order of styles the same\n       * which is very inconvenient. But it just works now (to keep the simplicity)\n       */\n      classCache[correctStyles.replace(/\\s+/g, '')] = className;\n  \n      return element;\n    }\n  }\n}\n\nexport const styled = initializeStyled();\n","export const tryCatchWrapper = async (promise) => {\n  try { \n    const response = await promise;\n\n    return { data: response, error: null };\n  } catch (error) {\n    return { data: null, error };\n  }\n}","import { tryCatchWrapper } from './tryCatchWrapper.js';\n\nexport const RANDOM_PHOTO_URL = 'https://source.unsplash.com/random';\n\nexport const fetchSingleRandomPhoto = () => tryCatchWrapper(fetch(RANDOM_PHOTO_URL));\n\n","export const __useEffect = () => {\n  const depsInClosure = {\n    deps: [],\n  }\n  const isFirstRenderWrapper = {\n    isFirstRender: true,\n  }\n  const updateDepsInClosure = (deps) => {\n    depsInClosure.deps = []\n    deps.forEach((dep) => depsInClosure.deps.push(dep));\n  }\n\n  return (callback, deps) => {\n    if (isFirstRenderWrapper.isFirstRender) {\n      updateDepsInClosure(deps);\n    }\n    if (isFirstRenderWrapper.isFirstRender || depsInClosure.deps.some((dep, idx) => dep !== deps[idx])) {\n      callback();\n      updateDepsInClosure(deps);\n      isFirstRenderWrapper.isFirstRender = false;\n\n      return;\n    }\n  }\n};\n","export const __useState = ({ renderCount, setRenderCount }) => {\n  const valueInClosure = {\n    value: undefined,\n  }\n  const renderInClosure = {\n    render: undefined,\n  }\n\n  const setter = (newValue) => {\n    valueInClosure.value = newValue;\n    if (renderCount.value > 0) {\n      renderInClosure.render();\n    }\n    setRenderCount(renderCount.value + 1);\n  }\n\n  return (initialValue, render) => {\n    if (renderCount.value === 0) {\n      renderInClosure.render = render\n      setter(initialValue);\n    }\n  \n    return [valueInClosure, setter];\n   };\n};\n\nexport const __useStateInteral = (() => {\n  const valueInClosure = {\n    value: undefined,\n  }\n  const setter = (newValue) => {\n    valueInClosure.value = newValue;\n  }\n\n  return (initialValue) => {\n      setter(initialValue);\n    \n      return [valueInClosure, setter];\n   };\n})();\n","import { __useEffect } from './useEffect.js';\nimport { __useState, __useStateInteral } from './useState.js';\n\nexport const { useEffect, useState } = (() => {\n  // setState just for internal use\n  const [renderCount, setRenderCount] = __useStateInteral(0);\n  // for external use\n  const useEffect = __useEffect({ renderCount, setRenderCount });\n  const useState = __useState({ renderCount, setRenderCount });\n\n  return { useEffect, useState }\n})();\n","import { actionTypes } from './actionTypes.js';\n\nexport const updateRandomPhoto = (randomPhotoUrl) => ({\n  type: actionTypes.UPDATE_RANDOM_PHOTO_URL,\n  randomPhotoUrl,\n});\n","import { styled } from '../ui/styled.js';\nimport { fetchSingleRandomPhoto } from '../api/api.js';\nimport { useEffect, useState } from '../hooks/index.js';\nimport { updateRandomPhoto } from '../global-state/actions.js';\n\nconst Button = styled`button``\n  width: max-content;\n  min-width: 250px;\n  height: 50px;\n  background-color: white;\n  border: 1px solid black;\n  cursor: pointer;\n  font-size: 32px;\n`\n\nconst RequestRandomPhotoButton = (store) => {\n  const render = () => {\n    const [isLoading, setIsLoading] = useState(false, render);\n\n    useEffect(() => {\n      if (isLoading.value) Button.textContent = 'loading'\n      else Button.textContent = 'click the button to request random image'\n    }, [isLoading.value]);\n\n    const handleButtonClick = async () => {\n      setIsLoading(true);\n      const { data, error } = await fetchSingleRandomPhoto();\n      if (error) console.error(error);\n      store.dispatch(updateRandomPhoto(data.url));\n      setIsLoading(false);\n    }\n\n    Button.onclick = handleButtonClick;\n\n    return Button;\n  }\n\n  return render;\n}\n\nexport default RequestRandomPhotoButton;\n","import { styled } from '../ui/styled.js';\n\nconst Layout = styled`section``\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n`\n\nexport default () => () => Layout;\n","import { styled } from '../ui/styled.js';\nimport { renderDOM } from '../ui/renderDOM.js';\nimport { useEffect } from '../hooks/index.js';\n\nconst PhotoContainer = styled`figure``\n  border: 1px solid black;\n  min-width: 500px;\n  min-height: 500px;\n`\n\nconst Photo = styled`img```\n\nexport default (store) => {\n  const render = () => {\n    const randomPhotoUrl = store.getState().randomPhotoUrl;\n\n    useEffect(() => {\n      if (randomPhotoUrl) {\n        Photo.src = randomPhotoUrl;\n      }\n    }, [randomPhotoUrl])\n\n    Photo.setAttribute('loading', 'lazy');\n\n    return renderDOM([\n      Photo,\n    ], PhotoContainer);\n  }\n\n  return render;\n};","import { renderDOM } from './ui/renderDOM.js'\nimport { store } from './global-state/store.js'\n\nimport RequestRandomPhotoButton from './components/Button.js'\nimport Layout from './components/Layout.js'\nimport PhotoViewer from './components/PhotoViewer.js'\n\nconst main = () => {\n  const root = document.getElementById('root');\n\n  const render = (__store) => {\n    renderDOM(\n      [\n        Layout()(),\n        [\n          PhotoViewer(__store)(),\n          RequestRandomPhotoButton(__store)(),\n        ]\n      ],\n      root,\n    );\n  }\n    \n  store.subscribe(() => {\n    render(store);\n  })\n\n  render(store);\n}\n\nwindow.onload = main;"]}