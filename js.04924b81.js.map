{"version":3,"sources":["js/ui/renderDOM.js","js/global-state/actionTypes.js","js/global-state/reducer.js","js/global-state/store.js","js/ui/styled.js","js/api/tryCatchWrapper.js","js/api/api.js","js/hooks/useEffect.js","js/hooks/useState.js","js/hooks/index.js","js/global-state/actions.js","js/components/RequestRandomPhotoButton.js","js/components/Layout.js","js/components/PhotoViewer.js","js/index.js"],"names":["renderDOM","arrayOfHTMLElements","parent","Array","isArray","Error","forEach","element","currentIndex","cannotUsePrevElementAsParent","appendChild","actionTypes","Object","freeze","UPDATE_RANDOM_PHOTO_URL","reducer","prevState","randomPhotoUrl","undefined","action","type","createStore","rootState","listenersOnDispatch","getState","subscribe","listener","push","length","indexToDelete","indexOf","index","splice","dispatch","store","receiveCorrectStringInput","mightBeString","generateRandomString","text","possible","i","charAt","Math","floor","random","initializeStyled","head","document","getElementsByTagName","classCache","tagName","correctTagName","createElement","styles","correctStyles","classNameInCache","className","style","textContent","replace","styled","tryCatchWrapper","promise","data","error","RANDOM_PHOTO_URL","fetchSingleRandomPhoto","fetch","__useEffect","renderCount","setRenderCount","depsInClosure","deps","callback","isFirstRender","value","areDepsChanged","some","dep","idx","updateDepsInClosure","__useState","valueInClosure","renderInClosure","render","setter","newValue","initialValue","__useStateInteral","initializeHooks","useStateInternal","useEffect","useState","updateRandomPhoto","RequestRandomPhotoButton","Button","isLoading","setIsLoading","getRandomPhoto","console","url","onclick","Layout","PhotoContainer","Photo","log","setAttribute","src","main","root","getElementById","__store","window","onload"],"mappings":"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","file":"js.04924b81.js","sourceRoot":"..","sourcesContent":["export const renderDOM = (arrayOfHTMLElements, parent) => {\n    if (!Array.isArray(arrayOfHTMLElements)) {\n      throw new Error('htmlelements is not array');\n    } else {\n      arrayOfHTMLElements.forEach((element, currentIndex) => {\n          if (Array.isArray(element)) {\n            const cannotUsePrevElementAsParent = Array.isArray(arrayOfHTMLElements[currentIndex - 1])\n            renderDOM(element, currentIndex === 0 || cannotUsePrevElementAsParent ? parent : arrayOfHTMLElements[currentIndex - 1]);\n          } else {\n            parent.appendChild(element);\n          }\n      });\n    };\n\n    return parent;\n  }\n","export const actionTypes = Object.freeze({\n  UPDATE_RANDOM_PHOTO_URL: 'UPDATE_RANDOM_PHOTO_URL',  \n})\n","import { actionTypes } from './actionTypes.js';\n\nexport const reducer = (prevState = {\n  randomPhotoUrl: undefined,\n}, action) => {\n  switch(action.type) {\n    case actionTypes.UPDATE_RANDOM_PHOTO_URL:\n      return {\n        ...prevState,\n        randomPhotoUrl: action.randomPhotoUrl,\n      }\n  }\n}\n","import { reducer } from './reducer.js'\n\nconst createStore = (reducer) => {\n  let rootState = {};\n\n  const listenersOnDispatch = []\n\n  const getState = () => rootState;\n\n  const subscribe = (listener) => {\n    listenersOnDispatch.push(listener)\n\n    const lengthOfListeners = listenersOnDispatch.length;\n\n    return () => {\n      const indexToDelete = listenersOnDispatch.indexOf(listener);\n      if (index > -1) listenersOnDispatch.splice(indexToDelete, 1);\n    }\n  }\n\n  const dispatch = (action) => {\n    rootState = reducer(rootState, action)\n    listenersOnDispatch.forEach((listener) => listener())\n  }\n\n  return {\n    getState,\n    subscribe,\n    dispatch,\n  };\n}\n\nexport const store = createStore(reducer);\n","/**\n * when you use a syntax like styled(`button`)`width: 10px; height: 10px;` instead of\n * styled(`button`)(`width: 10px; height: 10px;`)\n */ \nconst receiveCorrectStringInput = (mightBeString) => {\n  if (Array.isArray(mightBeString)) return mightBeString[0];\n  else return mightBeString;\n}\n\nconst generateRandomString = (length) => {\n  let text = \"\";\n  const possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n   \n  for (var i = 0; i < length; i++)\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n   \n  return text;\n}\n\nconst initializeStyled = () => {\n  const head = document.getElementsByTagName('head')[0];\n\n  const classCache = {}\n\n  return (tagName) => {\n    const correctTagName = receiveCorrectStringInput(tagName);\n    const element = document.createElement(correctTagName);\n\n    return (styles) => {\n      const correctStyles = receiveCorrectStringInput(styles);\n\n      const classNameInCache = classCache[correctStyles];\n      if (classNameInCache) {\n        element.className = classNameInCache;\n  \n        return element;\n      }\n  \n      const className = generateRandomString(7);\n      const style = document.createElement('style');\n      style.textContent = `.${className} { ${correctStyles} }`;\n      head.appendChild(style);\n  \n      element.className = className;\n\n      /**\n       * Caveat: you should also write the order of styles the same\n       * which is very inconvenient. But it just works now (to keep the simplicity)\n       */\n      classCache[correctStyles.replace(/\\s+/g, '')] = className;\n  \n      return element;\n    }\n  }\n}\n\nexport const styled = initializeStyled();\n","export const tryCatchWrapper = async (promise) => {\n  try { \n    const response = await promise;\n\n    return { data: response, error: null };\n  } catch (error) {\n    return { data: null, error };\n  }\n}","import { tryCatchWrapper } from './tryCatchWrapper.js';\n\nexport const RANDOM_PHOTO_URL = 'https://source.unsplash.com/random';\n\nexport const fetchSingleRandomPhoto = () => tryCatchWrapper(fetch(RANDOM_PHOTO_URL));\n\n","export const __useEffect = ({ renderCount, setRenderCount }) => {\n  const depsInClosure = {\n    deps: [],\n  }\n  const updateDepsInClosure = (deps) => {\n    depsInClosure.deps = []\n    deps.forEach((dep) => depsInClosure.deps.push(dep));\n  }\n\n  return (callback, deps) => {\n    const isFirstRender = renderCount.value === 0;\n    const areDepsChanged = depsInClosure.deps.some((dep, idx) => dep !== deps[idx]);\n    if (isFirstRender || areDepsChanged) {\n      callback();\n      updateDepsInClosure(deps);\n      setRenderCount(renderCount.value + 1);\n      return;\n    }\n  }\n};\n","export const __useState = ({ renderCount, setRenderCount }) => {\n  const valueInClosure = {\n    value: undefined,\n  }\n  const renderInClosure = {\n    render: undefined,\n  }\n\n  const setter = (newValue) => {\n    valueInClosure.value = newValue;\n    if (renderCount.value > 0) {\n      renderInClosure.render();\n      setRenderCount(renderCount.value + 1);\n    }\n  }\n\n  return (initialValue, render) => {\n    if (!renderInClosure.render) {\n      renderInClosure.render = render\n      setter(initialValue);\n    }\n  \n    return [valueInClosure, setter];\n   };\n};\n\nexport const __useStateInteral = () => {\n  const valueInClosure = {\n    value: undefined,\n  }\n  const setter = (newValue) => {\n    valueInClosure.value = newValue;\n  }\n\n  return (initialValue) => {\n      setter(initialValue);\n    \n      return [valueInClosure, setter];\n   };\n}\n","import { __useEffect } from './useEffect.js';\nimport { __useState, __useStateInteral } from './useState.js';\n\nexport const initializeHooks = () => {\n  // setState just for internal use\n  const useStateInternal = __useStateInteral();\n  const [renderCount, setRenderCount] = useStateInternal(0);\n  // for external use\n  const useEffect = __useEffect({ renderCount, setRenderCount });\n  const useState = __useState({ renderCount, setRenderCount });\n\n  return { useEffect, useState }\n};\n","import { actionTypes } from './actionTypes.js';\n\nexport const updateRandomPhoto = (randomPhotoUrl) => ({\n  type: actionTypes.UPDATE_RANDOM_PHOTO_URL,\n  randomPhotoUrl,\n});\n","import { styled } from '../ui/styled.js';\nimport { fetchSingleRandomPhoto } from '../api/api.js';\nimport { initializeHooks } from '../hooks/index.js';\nimport { updateRandomPhoto } from '../global-state/actions.js';\n\nconst { useEffect, useState } = initializeHooks();\n\nconst Button = styled`button``\n  width: max-content;\n  min-width: 250px;\n  height: 50px;\n  background-color: white;\n  border: 1px solid black;\n  cursor: pointer;\n  font-size: 32px;\n`\n\nconst RequestRandomPhotoButton = (store) => {\n  const render = () => {\n    const [isLoading, setIsLoading] = useState(false, render);\n\n    const getRandomPhoto = async () => {\n      setIsLoading(true);\n      const { data, error } = await fetchSingleRandomPhoto();\n      if (error) console.error(error);\n      store.dispatch(updateRandomPhoto(data.url));\n      setIsLoading(false);\n    }\n\n    useEffect(() => {\n      getRandomPhoto();\n    }, []);\n\n    Button.onclick = getRandomPhoto;\n    \n    if (isLoading.value) Button.textContent = 'loading'\n    else Button.textContent = 'click the button to request random image'\n\n    return Button;\n  }\n\n  return render;\n}\n\nexport default RequestRandomPhotoButton;\n","import { styled } from '../ui/styled.js';\n\nconst Layout = styled`section``\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n`\n\nexport default () => () => Layout;\n","import { styled } from '../ui/styled.js';\nimport { renderDOM } from '../ui/renderDOM.js';\nimport { initializeHooks } from '../hooks/index.js';\nconst { useEffect } = initializeHooks();\n\nconst PhotoContainer = styled`figure``\n  border: 1px solid black;\n  min-width: 500px;\n  min-height: 500px;\n  display: flex;\n`\n\nconst Photo = styled`img``\n  max-width: 500px;\n  max-height: 500px;\n  margin: auto;\n`\n\nexport default (store) => {\n  const render = () => {\n    const randomPhotoUrl = store.getState().randomPhotoUrl;\n    \n    useEffect(() => {\n      if (randomPhotoUrl) console.log(`The URL has changed to ${randomPhotoUrl}`);\n    }, [randomPhotoUrl]);\n    \n    Photo.setAttribute('loading', 'lazy');\n    if (randomPhotoUrl) Photo.src = randomPhotoUrl;\n\n    return renderDOM([\n      Photo,\n    ], PhotoContainer);\n  }\n\n  return render;\n};\n","import { renderDOM } from './ui/renderDOM.js'\nimport { store } from './global-state/store.js'\n\nimport RequestRandomPhotoButton from './components/RequestRandomPhotoButton.js'\nimport Layout from './components/Layout.js'\nimport PhotoViewer from './components/PhotoViewer.js'\n\nconst main = () => {\n  const root = document.getElementById('root');\n\n  const render = (__store) => {\n    renderDOM(\n      [\n        Layout()(),\n        [\n          PhotoViewer(__store)(),\n          RequestRandomPhotoButton(__store)(),\n        ]\n      ],\n      root,\n    );\n  }\n    \n  store.subscribe(() => {\n    render(store);\n  })\n\n  render(store);\n}\n\nwindow.onload = main;"]}